{"version":3,"file":"scripts.js","sources":["scripts.js"],"sourcesContent":["// Utility function\nfunction Util () {};\n\n/*\n\tclass manipulation functions\n*/\nUtil.hasClass = function(el, className) {\n\tif (el.classList) return el.classList.contains(className);\n\telse return !!el.getAttribute('class').match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'));\n};\n\nUtil.addClass = function(el, className) {\n\tvar classList = className.split(' ');\n \tif (el.classList) el.classList.add(classList[0]);\n  else if (!Util.hasClass(el, classList[0])) el.setAttribute('class', el.getAttribute('class') +  \" \" + classList[0]);\n \tif (classList.length > 1) Util.addClass(el, classList.slice(1).join(' '));\n};\n\nUtil.removeClass = function(el, className) {\n\tvar classList = className.split(' ');\n\tif (el.classList) el.classList.remove(classList[0]);\n\telse if(Util.hasClass(el, classList[0])) {\n\t\tvar reg = new RegExp('(\\\\s|^)' + classList[0] + '(\\\\s|$)');\n    el.setAttribute('class', el.getAttribute('class').replace(reg, ' '));\n\t}\n\tif (classList.length > 1) Util.removeClass(el, classList.slice(1).join(' '));\n};\n\nUtil.toggleClass = function(el, className, bool) {\n\tif(bool) Util.addClass(el, className);\n\telse Util.removeClass(el, className);\n};\n\nUtil.setAttributes = function(el, attrs) {\n  for(var key in attrs) {\n    el.setAttribute(key, attrs[key]);\n  }\n};\n\n/*\n  DOM manipulation\n*/\nUtil.getChildrenByClassName = function(el, className) {\n  var children = el.children,\n    childrenByClass = [];\n  for (var i = 0; i < el.children.length; i++) {\n    if (Util.hasClass(el.children[i], className)) childrenByClass.push(el.children[i]);\n  }\n  return childrenByClass;\n};\n\nUtil.is = function(elem, selector) {\n  if(selector.nodeType){\n    return elem === selector;\n  }\n\n  var qa = (typeof(selector) === 'string' ? document.querySelectorAll(selector) : selector),\n    length = qa.length,\n    returnArr = [];\n\n  while(length--){\n    if(qa[length] === elem){\n      return true;\n    }\n  }\n\n  return false;\n};\n\n/*\n\tAnimate height of an element\n*/\nUtil.setHeight = function(start, to, element, duration, cb, timeFunction) {\n\tvar change = to - start,\n\t    currentTime = null;\n\n  var animateHeight = function(timestamp){\n    if (!currentTime) currentTime = timestamp;\n    var progress = timestamp - currentTime;\n    if(progress > duration) progress = duration;\n    var val = parseInt((progress/duration)*change + start);\n    if(timeFunction) {\n      val = Math[timeFunction](progress, start, to - start, duration);\n    }\n    element.style.height = val+\"px\";\n    if(progress < duration) {\n        window.requestAnimationFrame(animateHeight);\n    } else {\n    \tif(cb) cb();\n    }\n  };\n\n  //set the height of the element before starting animation -> fix bug on Safari\n  element.style.height = start+\"px\";\n  window.requestAnimationFrame(animateHeight);\n};\n\n/*\n\tSmooth Scroll\n*/\n\nUtil.scrollTo = function(final, duration, cb, scrollEl) {\n  var element = scrollEl || window;\n  var start = element.scrollTop || document.documentElement.scrollTop,\n    currentTime = null;\n\n  if(!scrollEl) start = window.scrollY || document.documentElement.scrollTop;\n\n  var animateScroll = function(timestamp){\n  \tif (!currentTime) currentTime = timestamp;\n    var progress = timestamp - currentTime;\n    if(progress > duration) progress = duration;\n    var val = Math.easeInOutQuad(progress, start, final-start, duration);\n    element.scrollTo(0, val);\n    if(progress < duration) {\n      window.requestAnimationFrame(animateScroll);\n    } else {\n      cb && cb();\n    }\n  };\n\n  window.requestAnimationFrame(animateScroll);\n};\n\n/*\n  Focus utility classes\n*/\n\n//Move focus to an element\nUtil.moveFocus = function (element) {\n  if( !element ) element = document.getElementsByTagName(\"body\")[0];\n  element.focus();\n  if (document.activeElement !== element) {\n    element.setAttribute('tabindex','-1');\n    element.focus();\n  }\n};\n\n/*\n  Misc\n*/\n\nUtil.getIndexInArray = function(array, el) {\n  return Array.prototype.indexOf.call(array, el);\n};\n\nUtil.cssSupports = function(property, value) {\n  if('CSS' in window) {\n    return CSS.supports(property, value);\n  } else {\n    var jsProperty = property.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase();});\n    return jsProperty in document.body.style;\n  }\n};\n\n// merge a set of user options into plugin defaults\n// https://gomakethings.com/vanilla-javascript-version-of-jquery-extend/\nUtil.extend = function() {\n  // Variables\n  var extended = {};\n  var deep = false;\n  var i = 0;\n  var length = arguments.length;\n\n  // Check if a deep merge\n  if ( Object.prototype.toString.call( arguments[0] ) === '[object Boolean]' ) {\n    deep = arguments[0];\n    i++;\n  }\n\n  // Merge the object into the extended object\n  var merge = function (obj) {\n    for ( var prop in obj ) {\n      if ( Object.prototype.hasOwnProperty.call( obj, prop ) ) {\n        // If deep merge and property is an object, merge properties\n        if ( deep && Object.prototype.toString.call(obj[prop]) === '[object Object]' ) {\n          extended[prop] = extend( true, extended[prop], obj[prop] );\n        } else {\n          extended[prop] = obj[prop];\n        }\n      }\n    }\n  };\n\n  // Loop through each object and conduct a merge\n  for ( ; i < length; i++ ) {\n    var obj = arguments[i];\n    merge(obj);\n  }\n\n  return extended;\n};\n\n// Check if Reduced Motion is enabled\nUtil.osHasReducedMotion = function() {\n  if(!window.matchMedia) return false;\n  var matchMediaObj = window.matchMedia('(prefers-reduced-motion: reduce)');\n  if(matchMediaObj) return matchMediaObj.matches;\n  return false; // return false if not supported\n};\n\n/*\n\tPolyfills\n*/\n//Closest() method\nif (!Element.prototype.matches) {\n\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n}\n\nif (!Element.prototype.closest) {\n\tElement.prototype.closest = function(s) {\n\t\tvar el = this;\n\t\tif (!document.documentElement.contains(el)) return null;\n\t\tdo {\n\t\t\tif (el.matches(s)) return el;\n\t\t\tel = el.parentElement || el.parentNode;\n\t\t} while (el !== null && el.nodeType === 1);\n\t\treturn null;\n\t};\n}\n\n//Custom Event() constructor\nif ( typeof window.CustomEvent !== \"function\" ) {\n\n  function CustomEvent ( event, params ) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent( 'CustomEvent' );\n    evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n    return evt;\n   }\n\n  CustomEvent.prototype = window.Event.prototype;\n\n  window.CustomEvent = CustomEvent;\n}\n\n/*\n\tAnimation curves\n*/\nMath.easeInOutQuad = function (t, b, c, d) {\n\tt /= d/2;\n\tif (t < 1) return c/2*t*t + b;\n\tt--;\n\treturn -c/2 * (t*(t-2) - 1) + b;\n};\n\nMath.easeInQuart = function (t, b, c, d) {\n\tt /= d;\n\treturn c*t*t*t*t + b;\n};\n\nMath.easeOutQuart = function (t, b, c, d) {\n  t /= d;\n\tt--;\n\treturn -c * (t*t*t*t - 1) + b;\n};\n\nMath.easeInOutQuart = function (t, b, c, d) {\n\tt /= d/2;\n\tif (t < 1) return c/2*t*t*t*t + b;\n\tt -= 2;\n\treturn -c/2 * (t*t*t*t - 2) + b;\n};\n\nMath.easeOutElastic = function (t, b, c, d) {\n  var s=1.70158;var p=d*0.7;var a=c;\n  if (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\n  if (a < Math.abs(c)) { a=c; var s=p/4; }\n  else var s = p/(2*Math.PI) * Math.asin (c/a);\n  return a*Math.pow(2,-10*t) * Math.sin( (t*d-s)*(2*Math.PI)/p ) + c + b;\n};\n\n\n/* JS Utility Classes */\n\n// make focus ring visible only for keyboard navigation (i.e., tab key)\n(function() {\n  var focusTab = document.getElementsByClassName('js-tab-focus'),\n    shouldInit = false,\n    outlineStyle = false,\n    eventDetected = false;\n\n  function detectClick() {\n    if(focusTab.length > 0) {\n      resetFocusStyle(false);\n      window.addEventListener('keydown', detectTab);\n    }\n    window.removeEventListener('mousedown', detectClick);\n    outlineStyle = false;\n    eventDetected = true;\n  };\n\n  function detectTab(event) {\n    if(event.keyCode !== 9) return;\n    resetFocusStyle(true);\n    window.removeEventListener('keydown', detectTab);\n    window.addEventListener('mousedown', detectClick);\n    outlineStyle = true;\n  };\n\n  function resetFocusStyle(bool) {\n    var outlineStyle = bool ? '' : 'none';\n    for(var i = 0; i < focusTab.length; i++) {\n      focusTab[i].style.setProperty('outline', outlineStyle);\n    }\n  };\n\n  function initFocusTabs() {\n    if(shouldInit) {\n      if(eventDetected) resetFocusStyle(outlineStyle);\n      return;\n    }\n    shouldInit = focusTab.length > 0;\n    window.addEventListener('mousedown', detectClick);\n  };\n\n  initFocusTabs();\n  window.addEventListener('initFocusTabs', initFocusTabs);\n}());\n\nfunction resetFocusTabsStyle() {\n  window.dispatchEvent(new CustomEvent('initFocusTabs'));\n};\n\n//credits http://css-tricks.com/snippets/jquery/move-cursor-to-end-of-textarea-or-input/\nfunction putCursorAtEnd(el) {\n  if (el.setSelectionRange) {\n    var len = el.value.length * 2;\n    el.focus();\n    el.setSelectionRange(len, len);\n  } else {\n    el.value = el.value;\n  }\n};\nfunction onLogin() {\r\n  let email = document.getElementById('login-email').value;\r\n  let password = document.getElementById('login-password').value;\r\n  let userObject = {\r\n    email,\r\n    password\r\n  }\r\n  const userAction = async () => {\r\n    const response = await fetch('https://api.oasisplatform.world/api/avatar/authenticate', {\r\n      method: 'POST',\r\n      body: JSON.stringify(userObject), // string or object\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n    if (response.status === 200) {\r\n      const myJson = await response.json(); //extract JSON from the http response\r\n      alert(myJson.message);\r\n      window.location.reload();\r\n    } else {\r\n      const myJson = await response.json(); //extract JSON from the http response\r\n      alert(myJson.title);\r\n      window.location.reload();\r\n    }\r\n\r\n  }\r\n  userAction();\r\n}\r\n\nfunction onSignup(){\n    // let title = document.getElementById('signup-title').value;\n    // let firstName = document.getElementById('signup-first-name').value;\n    // let lastName = document.getElementById('signup-last-name').value;\n    let email = document.getElementById('signup-email').value;\n    let password = document.getElementById('signup-password').value;\n    let confirmPassword = document.getElementById('confirm-signup-password').value;\n    let userObject = {\n        // title,\n        // firstName,\n        // lastName,\n        email,\n        password,\n        confirmPassword,\n        \"acceptTerms\": true,\n        \"avatarType\": \"User\"\n    }\n    const userAction = async () => {\n        const response = await fetch('https://api.oasisplatform.world/api/avatar/register', {\n          method: 'POST',\n          body: JSON.stringify(userObject), // string or object\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        if(response.status === 200)\n        {\n            const myJson = await response.json(); //extract JSON from the http response\n            alert(myJson.message);\n            window.location.reload();\n        }\n        else\n        {\n            const myJson = await response.json(); //extract JSON from the http response\n            alert(myJson.title);\n            window.location.reload();\n        }\n\n    }\n    userAction();\n}\n\n// File#: _1_password\r\n// Usage: codyhouse.co/license\r\n(function () {\r\n  var Password = function (element) {\r\n    this.element = element;\r\n    this.password = this.element.getElementsByClassName('js-password__input')[0];\r\n    this.visibilityBtn = this.element.getElementsByClassName('js-password__btn')[0];\r\n    this.visibilityClass = 'password--text-is-visible';\r\n    this.initPassword();\r\n  };\r\n\r\n  Password.prototype.initPassword = function () {\r\n    var self = this;\r\n    //listen to the click on the password btn\r\n    this.visibilityBtn.addEventListener('click', function (event) {\r\n      //if password is in focus -> do nothing if user presses Enter\r\n      if (document.activeElement === self.password) return;\r\n      event.preventDefault();\r\n      self.togglePasswordVisibility();\r\n    });\r\n  };\r\n\r\n  Password.prototype.togglePasswordVisibility = function () {\r\n    var makeVisible = !Util.hasClass(this.element, this.visibilityClass);\r\n    //change element class\r\n    Util.toggleClass(this.element, this.visibilityClass, makeVisible);\r\n    //change input type\r\n    (makeVisible) ? this.password.setAttribute('type', 'text'): this.password.setAttribute('type', 'password');\r\n  };\r\n\r\n  function check_pass() {\r\n    if (document.getElementById('signup-password').value ==\r\n      document.getElementById('confirm-signup-password').value) {\r\n      document.getElementById('signup-submit').disabled = false;\r\n    } else {\r\n      document.getElementById('signup-submit').disabled = true;\r\n    }\r\n  }\r\n\r\n\r\n\r\n  //initialize the Password objects\r\n  var passwords = document.getElementsByClassName('js-password');\r\n  if (passwords.length > 0) {\r\n    for (var i = 0; i < passwords.length; i++) {\r\n      (function (i) {\r\n        new Password(passwords[i]);\r\n      })(i);\r\n    }\r\n  };\r\n}());\n// File#: _1_search\r\n// Usage: codyhouse.co/license\r\n(function () {\r\n  var searchBar = document.getElementsByClassName('js-search');\r\n  if (searchBar.length > 0) {\r\n    for (var i = 0; i < searchBar.length; i++) {\r\n      (function (i) { // if user types in search input, keep the input expanded when focus is lost\r\n        searchBar[i].getElementsByClassName('js-search__input')[0].addEventListener('input', function (event) {\r\n          Util.toggleClass(event.target, 'search__input--has-content', event.target.value.length > 0);\r\n        });\r\n      })(i);\r\n    }\r\n  }\r\n}());\njQuery(document).ready(function ($) {\n\tvar $menu_trigger = $('.js-nav-trigger'),\n\t\t$content_wrapper = $('.main-content'),\n\t\t$body = $('body');\n\t$navigation = $('.side-nav');\n\n\t//open-close lateral menu clicking on the menu icon\n\t$menu_trigger.on('click', function (event) {\n\t\tevent.preventDefault();\n\n\t\t$menu_trigger.toggleClass('is-clicked');\n\t\t$navigation.toggleClass('is-visible');\n\t\t$('.item--has-children').children('a').removeClass('submenu-open').next('.sub-menu').delay(300).slideUp();\n\t\t// $content_wrapper.toggleClass('is-visible').one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function () {\n\t\t// firefox transitions break when parent overflow is changed, so we need to wait for the end of the trasition to give the body an overflow hidden\n\t\t// $('.side-nav').toggleClass('is-visible');\n\n\t\t//check if transitions are not supported - i.e. in IE9\n\t\t// if ($('html').hasClass('no-csstransitions')) {\n\t\t// }\n\t});\n\n\t//close lateral menu clicking outside the menu itself\n\t$body.on('click', function (event) {\n\t\tevent.preventDefault();\n\t\tif ($(event.target).is($body) || ($(event.which).is('27'))) {\n\t\t\t$menu_trigger.removeClass('is-clicked');\n\t\t\t$navigation.removeClass('is-visible');\n\t\t\t$('.item--has-children').children('a').removeClass('submenu-open').next('.sub-menu').delay(300).slideUp();\n\t\t};\n\t});\n\n\t$body.on('keydown', function (event) {\n\t\tevent.preventDefault();\n\t\tif ($(event.which).is('27')) {\n\t\t\t$menu_trigger.removeClass('is-clicked');\n\t\t\t$navigation.removeClass('is-visible');\n\t\t\t$('.item--has-children').children('a').removeClass('submenu-open').next('.sub-menu').delay(300).slideUp();\n\t\t}\n\n\t})\n\n\t//open (or close) submenu items in the lateral menu. Close all the other open submenu items.\n\t$('.item--has-children').children('a').on('click', function (event) {\n\t\tevent.preventDefault();\n\t\t$(this).toggleClass('submenu-open').next('.sub-menu').slideToggle(300).end().parent('.item--has-children').siblings('.item--has-children').children('a').removeClass('submenu-open').next('.sub-menu').slideUp(300);\n\t});\n})\njQuery(document).ready(function ($) {\n  function ModalSignin(element) {\n    this.element = element;\n    this.blocks = document.getElementsByClassName('js-modal-block');\n    // this.switchers = this.element.getElementsByClassName('js-signin-modal-switcher')[0].getElementsByTagName('a');\n    this.triggers = document.getElementsByClassName('js-modal-trigger');\n    this.init();\n  };\n\n  ModalSignin.prototype.init = function () {\n    var self = this;\n\n    // open modal\n    for (var i = 0; i < this.triggers.length; i++) {\n      (function (i) {\n        self.triggers[i].addEventListener('click', function (event) {\n          if (event.target.hasAttribute('data-signin')) {\n            event.preventDefault();\n            self.showSigninForm(event.target.getAttribute('data-signin'));\n          }\n        });\n      })(i);\n    }\n\n    // close modal\n    this.element.addEventListener('click', function (event) {\n      if (hasClass(event.target, 'js-modal') || hasClass(event.target, 'js-close')) {\n        event.preventDefault();\n        removeClass(self.element, 'is-visible');\n      }\n    });\n\n    // close modal when clicking the esc keyboard button\n    document.addEventListener('keydown', function (event) {\n      event.which == '27' && removeClass(self.element, 'is-visible');\n    });\n  };\n\n  ModalSignin.prototype.showSigninForm = function (type) {\n    // show modal if not visible\n    !hasClass(this.element, 'is-visible') && addClass(this.element, 'is-visible');\n    // show selected form\n    for (var i = 0; i < this.blocks.length; i++) {\n      this.blocks[i].getAttribute('data-type') == type ? addClass(this.blocks[i], 'is-selected') :\n        removeClass(this.blocks[i], 'is-selected');\n    }\n  };\n\n  \tModalSignin.prototype.toggleError = function( input, bool) {\n  \t  // used to show error messages in the form\n  \t  toggleClass(input, 'modal__input--has-error', bool);\n  \t  toggleClass(input.nextElementSibling, 'modal__error--is-visible', bool);\n  \t}\n\n  var signinModal = document.getElementsByClassName('js-modal')[0];\n  if( signinModal ) {\n    new ModalSignin(signinModal);\n  }\n\n  //class manipulations - needed if classList is not supported\n  function hasClass(el, className) {\n    if (el.classList) return el.classList.contains(className);\n    else return !!el.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'));\n  }\n\n  function addClass(el, className) {\n    var classList = className.split(' ');\n    if (el.classList) el.classList.add(classList[0]);\n    else if (!hasClass(el, classList[0])) el.className += \" \" + classList[0];\n    if (classList.length > 1) addClass(el, classList.slice(1).join(' '));\n  }\n\n  function removeClass(el, className) {\n    var classList = className.split(' ');\n    if (el.classList) el.classList.remove(classList[0]);\n    else if (hasClass(el, classList[0])) {\n      var reg = new RegExp('(\\\\s|^)' + classList[0] + '(\\\\s|$)');\n      el.className = el.className.replace(reg, ' ');\n    }\n    if (classList.length > 1) removeClass(el, classList.slice(1).join(' '));\n  }\n\n  function toggleClass(el, className, bool) {\n    if (bool) addClass(el, className);\n    else removeClass(el, className);\n  }\n})\n\n//# sourceMappingURL=scripts.js.map\n"],"names":["Util","hasClass","el","className","classList","contains","getAttribute","match","RegExp","addClass","split","add","setAttribute","length","slice","join","removeClass","remove","reg","replace","toggleClass","bool","setAttributes","attrs","key","getChildrenByClassName","children","childrenByClass","i","push","is","elem","selector","nodeType","qa","document","querySelectorAll","setHeight","start","to","element","duration","cb","timeFunction","change","currentTime","animateHeight","timestamp","progress","val","parseInt","Math","style","height","window","requestAnimationFrame","scrollTo","final","scrollEl","scrollTop","documentElement","scrollY","animateScroll","easeInOutQuad","moveFocus","getElementsByTagName","focus","activeElement","getIndexInArray","array","Array","prototype","indexOf","call","cssSupports","property","value","CSS","supports","g","toUpperCase","body","extend","extended","deep","arguments","Object","toString","obj","prop","hasOwnProperty","merge","osHasReducedMotion","matchMedia","matchMediaObj","matches","Element","msMatchesSelector","webkitMatchesSelector","closest","s","this","parentElement","parentNode","CustomEvent","event","params","bubbles","cancelable","detail","undefined","evt","createEvent","initCustomEvent","Event","resetFocusTabsStyle","dispatchEvent","putCursorAtEnd","len","setSelectionRange","onLogin","userObject","email","getElementById","password","async","response","fetch","method","JSON","stringify","headers","Content-Type","myJson","status","json","alert","message","title","location","reload","userAction","onSignup","confirmPassword","acceptTerms","avatarType","t","b","c","d","easeInQuart","easeOutQuart","easeInOutQuart","easeOutElastic","p","a","abs","PI","asin","pow","sin","focusTab","getElementsByClassName","shouldInit","outlineStyle","eventDetected","detectClick","resetFocusStyle","addEventListener","detectTab","removeEventListener","keyCode","setProperty","initFocusTabs","Password","visibilityBtn","visibilityClass","initPassword","self","preventDefault","togglePasswordVisibility","makeVisible","passwords","searchBar","target","jQuery","ready","$","$menu_trigger","$body","$navigation","on","next","delay","slideUp","which","slideToggle","end","parent","siblings","ModalSignin","blocks","triggers","init","hasAttribute","showSigninForm","type","toggleError","input","nextElementSibling","signinModal"],"mappings":"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"}