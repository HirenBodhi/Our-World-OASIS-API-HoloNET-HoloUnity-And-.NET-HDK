{"version":3,"file":"scripts.js","sources":["scripts.js"],"sourcesContent":["// File#: _1_password\r\n// Usage: codyhouse.co/license\r\n(function () {\r\n  var Password = function (element) {\r\n    this.element = element;\r\n    this.password = this.element.getElementsByClassName('js-password__input')[0];\r\n    this.visibilityBtn = this.element.getElementsByClassName('js-password__btn')[0];\r\n    this.visibilityClass = 'password--text-is-visible';\r\n    this.initPassword();\r\n  };\r\n\r\n  Password.prototype.initPassword = function () {\r\n    var self = this;\r\n    //listen to the click on the password btn\r\n    this.visibilityBtn.addEventListener('click', function (event) {\r\n      //if password is in focus -> do nothing if user presses Enter\r\n      if (document.activeElement === self.password) return;\r\n      event.preventDefault();\r\n      self.togglePasswordVisibility();\r\n    });\r\n  };\r\n\r\n  Password.prototype.togglePasswordVisibility = function () {\r\n    var makeVisible = !Util.hasClass(this.element, this.visibilityClass);\r\n    //change element class\r\n    Util.toggleClass(this.element, this.visibilityClass, makeVisible);\r\n    //change input type\r\n    (makeVisible) ? this.password.setAttribute('type', 'text'): this.password.setAttribute('type', 'password');\r\n  };\r\n\r\n  //initialize the Password objects\r\n  var passwords = document.getElementsByClassName('js-password');\r\n  if (passwords.length > 0) {\r\n    for (var i = 0; i < passwords.length; i++) {\r\n      (function (i) {\r\n        new Password(passwords[i]);\r\n      })(i);\r\n    }\r\n  };\r\n}());\n// File#: _1_search\r\n// Usage: codyhouse.co/license\r\n(function () {\r\n  var searchBar = document.getElementsByClassName('js-search');\r\n  if (searchBar.length > 0) {\r\n    for (var i = 0; i < searchBar.length; i++) {\r\n      (function (i) { // if user types in search input, keep the input expanded when focus is lost\r\n        searchBar[i].getElementsByClassName('js-search__input')[0].addEventListener('input', function (event) {\r\n          Util.toggleClass(event.target, 'search__input--has-content', event.target.value.length > 0);\r\n        });\r\n      })(i);\r\n    }\r\n  }\r\n}());\n(function () {\n  // Responsive Sidebar Navigation - by CodyHouse.co\n  var searchInput = document.getElementsByClassName('js-search')[0],\n    navList = document.getElementsByClassName('js-nav__list')[0],\n    sideList = document.getElementsByClassName('js-side__list')[0],\n    sidebar = document.getElementsByClassName('js-side-nav')[0],\n    mainHeader = document.getElementsByClassName('js-main-header')[0];\n\n  //on resize, move search and top nav position according to window width\n  var resizing = false;\n  window.addEventListener('resize', function () {\n    if (resizing) return;\n    resizing = true;\n    (!window.requestAnimationFrame) ? setTimeout(moveNavigation, 300): window.requestAnimationFrame(moveNavigation);\n  });\n  window.dispatchEvent(new Event('resize')); //trigger the moveNavigation function\n\n  function moveNavigation() { // move searchInput and navList\n    var mq = checkMQ();\n    if (mq == 'mobile' && !Util.hasClass(navList.parentNode, 'js-side-nav')) {\n      detachElements();\n      // sideList.appendChild(navList);\n      sideList.insertBefore(navList, sideList.firstElementChild);\n      sidebar.insertBefore(searchInput, sidebar.firstElementChild);\n    } else if (mq == 'desktop' && !Util.hasClass(navList.parentNode, 'js-main-header')) {\n      detachElements();\n      mainHeader.appendChild(navList);\n      mainHeader.insertBefore(searchInput, mainHeader.firstElementChild.nextSibling);\n    }\n    resizing = false;\n  };\n\n  function detachElements() { // remove element from DOM\n    searchInput.parentNode.removeChild(searchInput);\n    navList.parentNode.removeChild(navList);\n  };\n\n  // function hideHoveredItems() { // exit sidebar -> hide dropdown\n  //   var hoveredItems = sidebar.getElementsByClassName('hover');\n  //   for (var i = 0; i < hoveredItems.length; i++) Util.removeClass(hoveredItems[i], 'hover');\n  // };\n\n  function checkMQ() { // check if mobile or desktop device\n    return window.getComputedStyle(mainHeader, '::before').getPropertyValue('content').replace(/'|\"/g, \"\");\n  };\n\n  // Utility function\n  function Util() {};\n\n  Util.hasClass = function (el, className) {\n    if (el.classList) return el.classList.contains(className);\n    else return !!el.getAttribute('class').match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'));\n  };\n})();\njQuery(document).ready(function ($) {\n\t$menuTrigger = $('.nav-trigger')\n\t$content_wrapper = $('.main-content')\n\t$navigation = $('.side-nav');\n\n\t//open-close lateral menu clicking on the menu icon\n\t$menuTrigger.on('click', function (event) {\n\t\tevent.preventDefault();\n\n\t\t$menuTrigger.toggleClass('is-clicked');\n\t\t$navigation.toggleClass('is-visible');\n\t\t// $content_wrapper.toggleClass('is-visible').one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function () {\n\t\t// firefox transitions break when parent overflow is changed, so we need to wait for the end of the trasition to give the body an overflow hidden\n\t\t// $('.side-nav').toggleClass('is-visible');\n\n\t\t//check if transitions are not supported - i.e. in IE9\n\t\tif ($('html').hasClass('no-csstransitions')) {\n\t\t}\n\t});\n\n\t//close lateral menu clicking outside the menu itself\n\t$('.main').on('click', function (event) {\n\t\tconsole.log(event.target.parentNode);\n\t\tif (event.target != $navigation && event.target.parentNode != $navigation) {\n\t\t\t$menuTrigger.removeClass('is-clicked');\n\t\t\t$navigation.removeClass('is-visible');\n\t\t\t// $navigation.removeClass('is-visible');\n\t\t\t// $content_wrapper.removeClass('is-visible').one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function () {\n\n\t\t\t//check if transitions are not supported\n\n\t\t\t\n\t\t}\n\t});\n\n\t//open (or close) submenu items in the lateral menu. Close all the other open submenu items.\n\t$('.item--has-children').children('a').on('click', function (event) {\n\t\tevent.preventDefault();\n\t\t$(this).toggleClass('submenu-open').next('.sub-menu').slideToggle(200).end().parent('.item--has-children').siblings('.item--has-children').children('a').removeClass('submenu-open').next('.sub-menu').slideUp(200);\n\t});\n});\n(function () {\n  function ModalSignin(element) {\n    this.element = element;\n    this.blocks = document.getElementsByClassName('js-modal-block');\n    // this.switchers = this.element.getElementsByClassName('js-signin-modal-switcher')[0].getElementsByTagName('a');\n    this.triggers = document.getElementsByClassName('js-modal-trigger');\n    this.init();\n  };\n\n  ModalSignin.prototype.init = function () {\n    var self = this;\n\n    // open modal\n    for (var i = 0; i < this.triggers.length; i++) {\n      (function (i) {\n        self.triggers[i].addEventListener('click', function (event) {\n          if (event.target.hasAttribute('data-signin')) {\n            event.preventDefault();\n            self.showSigninForm(event.target.getAttribute('data-signin'));\n          }\n        });\n      })(i);\n    }\n\n    // close modal\n    this.element.addEventListener('click', function (event) {\n      if (hasClass(event.target, 'js-modal') || hasClass(event.target, 'js-close')) {\n        event.preventDefault();\n        removeClass(self.element, 'is-visible');\n      }\n    });\n\n    // close modal when clicking the esc keyboard button\n    document.addEventListener('keydown', function (event) {\n      event.which == '27' && removeClass(self.element, 'is-visible');\n    });\n  };\n\n  ModalSignin.prototype.showSigninForm = function (type) {\n    // show modal if not visible\n    !hasClass(this.element, 'is-visible') && addClass(this.element, 'is-visible');\n    // show selected form\n    for (var i = 0; i < this.blocks.length; i++) {\n      this.blocks[i].getAttribute('data-type') == type ? addClass(this.blocks[i], 'is-selected') :\n        removeClass(this.blocks[i], 'is-selected');\n    }\n  };\n\n  \tModalSignin.prototype.toggleError = function( input, bool) {\n  \t  // used to show error messages in the form\n  \t  toggleClass(input, 'modal__input--has-error', bool);\n  \t  toggleClass(input.nextElementSibling, 'modal__error--is-visible', bool);\n  \t}\n\n  var signinModal = document.getElementsByClassName('js-modal')[0];\n  if( signinModal ) {\n    new ModalSignin(signinModal);\n  }\n\n  //class manipulations - needed if classList is not supported\n  function hasClass(el, className) {\n    if (el.classList) return el.classList.contains(className);\n    else return !!el.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'));\n  }\n\n  function addClass(el, className) {\n    var classList = className.split(' ');\n    if (el.classList) el.classList.add(classList[0]);\n    else if (!hasClass(el, classList[0])) el.className += \" \" + classList[0];\n    if (classList.length > 1) addClass(el, classList.slice(1).join(' '));\n  }\n\n  function removeClass(el, className) {\n    var classList = className.split(' ');\n    if (el.classList) el.classList.remove(classList[0]);\n    else if (hasClass(el, classList[0])) {\n      var reg = new RegExp('(\\\\s|^)' + classList[0] + '(\\\\s|$)');\n      el.className = el.className.replace(reg, ' ');\n    }\n    if (classList.length > 1) removeClass(el, classList.slice(1).join(' '));\n  }\n\n  function toggleClass(el, className, bool) {\n    if (bool) addClass(el, className);\n    else removeClass(el, className);\n  }\n\n  //credits http://css-tricks.com/snippets/jquery/move-cursor-to-end-of-textarea-or-input/\n  function putCursorAtEnd(el) {\n    if (el.setSelectionRange) {\n      var len = el.value.length * 2;\n      el.focus();\n      el.setSelectionRange(len, len);\n    } else {\n      el.value = el.value;\n    }\n  };\n})();\n\n//# sourceMappingURL=scripts.js.map\n"],"names":["Password","element","this","password","getElementsByClassName","visibilityBtn","visibilityClass","initPassword","prototype","self","addEventListener","event","document","activeElement","preventDefault","togglePasswordVisibility","makeVisible","Util","hasClass","toggleClass","setAttribute","passwords","length","i","searchBar","target","value","searchInput","navList","sideList","sidebar","mainHeader","resizing","moveNavigation","mq","window","getComputedStyle","getPropertyValue","replace","parentNode","detachElements","appendChild","insertBefore","firstElementChild","nextSibling","removeChild","requestAnimationFrame","setTimeout","dispatchEvent","Event","el","className","classList","contains","getAttribute","match","RegExp","jQuery","ready","$","$menuTrigger","$content_wrapper","$navigation","on","console","log","removeClass","children","next","slideToggle","end","parent","siblings","slideUp","ModalSignin","blocks","triggers","init","hasAttribute","showSigninForm","which","type","addClass","toggleError","input","bool","nextElementSibling","signinModal","split","add","slice","join","remove","reg"],"mappings":"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"}