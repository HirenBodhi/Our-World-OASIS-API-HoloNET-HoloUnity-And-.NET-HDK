{"version":3,"file":"scripts.js","sources":["scripts.js"],"sourcesContent":["// Utility function\nfunction Util () {};\n\n/*\n\tclass manipulation functions\n*/\nUtil.hasClass = function(el, className) {\n\tif (el.classList) return el.classList.contains(className);\n\telse return !!el.getAttribute('class').match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'));\n};\n\nUtil.addClass = function(el, className) {\n\tvar classList = className.split(' ');\n \tif (el.classList) el.classList.add(classList[0]);\n  else if (!Util.hasClass(el, classList[0])) el.setAttribute('class', el.getAttribute('class') +  \" \" + classList[0]);\n \tif (classList.length > 1) Util.addClass(el, classList.slice(1).join(' '));\n};\n\nUtil.removeClass = function(el, className) {\n\tvar classList = className.split(' ');\n\tif (el.classList) el.classList.remove(classList[0]);\n\telse if(Util.hasClass(el, classList[0])) {\n\t\tvar reg = new RegExp('(\\\\s|^)' + classList[0] + '(\\\\s|$)');\n    el.setAttribute('class', el.getAttribute('class').replace(reg, ' '));\n\t}\n\tif (classList.length > 1) Util.removeClass(el, classList.slice(1).join(' '));\n};\n\nUtil.toggleClass = function(el, className, bool) {\n\tif(bool) Util.addClass(el, className);\n\telse Util.removeClass(el, className);\n};\n\nUtil.setAttributes = function(el, attrs) {\n  for(var key in attrs) {\n    el.setAttribute(key, attrs[key]);\n  }\n};\n\n/*\n  DOM manipulation\n*/\nUtil.getChildrenByClassName = function(el, className) {\n  var children = el.children,\n    childrenByClass = [];\n  for (var i = 0; i < el.children.length; i++) {\n    if (Util.hasClass(el.children[i], className)) childrenByClass.push(el.children[i]);\n  }\n  return childrenByClass;\n};\n\nUtil.is = function(elem, selector) {\n  if(selector.nodeType){\n    return elem === selector;\n  }\n\n  var qa = (typeof(selector) === 'string' ? document.querySelectorAll(selector) : selector),\n    length = qa.length,\n    returnArr = [];\n\n  while(length--){\n    if(qa[length] === elem){\n      return true;\n    }\n  }\n\n  return false;\n};\n\n/*\n\tAnimate height of an element\n*/\nUtil.setHeight = function(start, to, element, duration, cb, timeFunction) {\n\tvar change = to - start,\n\t    currentTime = null;\n\n  var animateHeight = function(timestamp){\n    if (!currentTime) currentTime = timestamp;\n    var progress = timestamp - currentTime;\n    if(progress > duration) progress = duration;\n    var val = parseInt((progress/duration)*change + start);\n    if(timeFunction) {\n      val = Math[timeFunction](progress, start, to - start, duration);\n    }\n    element.style.height = val+\"px\";\n    if(progress < duration) {\n        window.requestAnimationFrame(animateHeight);\n    } else {\n    \tif(cb) cb();\n    }\n  };\n\n  //set the height of the element before starting animation -> fix bug on Safari\n  element.style.height = start+\"px\";\n  window.requestAnimationFrame(animateHeight);\n};\n\n/*\n\tSmooth Scroll\n*/\n\nUtil.scrollTo = function(final, duration, cb, scrollEl) {\n  var element = scrollEl || window;\n  var start = element.scrollTop || document.documentElement.scrollTop,\n    currentTime = null;\n\n  if(!scrollEl) start = window.scrollY || document.documentElement.scrollTop;\n\n  var animateScroll = function(timestamp){\n  \tif (!currentTime) currentTime = timestamp;\n    var progress = timestamp - currentTime;\n    if(progress > duration) progress = duration;\n    var val = Math.easeInOutQuad(progress, start, final-start, duration);\n    element.scrollTo(0, val);\n    if(progress < duration) {\n      window.requestAnimationFrame(animateScroll);\n    } else {\n      cb && cb();\n    }\n  };\n\n  window.requestAnimationFrame(animateScroll);\n};\n\n/*\n  Focus utility classes\n*/\n\n//Move focus to an element\nUtil.moveFocus = function (element) {\n  if( !element ) element = document.getElementsByTagName(\"body\")[0];\n  element.focus();\n  if (document.activeElement !== element) {\n    element.setAttribute('tabindex','-1');\n    element.focus();\n  }\n};\n\n/*\n  Misc\n*/\n\nUtil.getIndexInArray = function(array, el) {\n  return Array.prototype.indexOf.call(array, el);\n};\n\nUtil.cssSupports = function(property, value) {\n  if('CSS' in window) {\n    return CSS.supports(property, value);\n  } else {\n    var jsProperty = property.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase();});\n    return jsProperty in document.body.style;\n  }\n};\n\n// merge a set of user options into plugin defaults\n// https://gomakethings.com/vanilla-javascript-version-of-jquery-extend/\nUtil.extend = function() {\n  // Variables\n  var extended = {};\n  var deep = false;\n  var i = 0;\n  var length = arguments.length;\n\n  // Check if a deep merge\n  if ( Object.prototype.toString.call( arguments[0] ) === '[object Boolean]' ) {\n    deep = arguments[0];\n    i++;\n  }\n\n  // Merge the object into the extended object\n  var merge = function (obj) {\n    for ( var prop in obj ) {\n      if ( Object.prototype.hasOwnProperty.call( obj, prop ) ) {\n        // If deep merge and property is an object, merge properties\n        if ( deep && Object.prototype.toString.call(obj[prop]) === '[object Object]' ) {\n          extended[prop] = extend( true, extended[prop], obj[prop] );\n        } else {\n          extended[prop] = obj[prop];\n        }\n      }\n    }\n  };\n\n  // Loop through each object and conduct a merge\n  for ( ; i < length; i++ ) {\n    var obj = arguments[i];\n    merge(obj);\n  }\n\n  return extended;\n};\n\n// Check if Reduced Motion is enabled\nUtil.osHasReducedMotion = function() {\n  if(!window.matchMedia) return false;\n  var matchMediaObj = window.matchMedia('(prefers-reduced-motion: reduce)');\n  if(matchMediaObj) return matchMediaObj.matches;\n  return false; // return false if not supported\n};\n\n/*\n\tPolyfills\n*/\n//Closest() method\nif (!Element.prototype.matches) {\n\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n}\n\nif (!Element.prototype.closest) {\n\tElement.prototype.closest = function(s) {\n\t\tvar el = this;\n\t\tif (!document.documentElement.contains(el)) return null;\n\t\tdo {\n\t\t\tif (el.matches(s)) return el;\n\t\t\tel = el.parentElement || el.parentNode;\n\t\t} while (el !== null && el.nodeType === 1);\n\t\treturn null;\n\t};\n}\n\n//Custom Event() constructor\nif ( typeof window.CustomEvent !== \"function\" ) {\n\n  function CustomEvent ( event, params ) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent( 'CustomEvent' );\n    evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n    return evt;\n   }\n\n  CustomEvent.prototype = window.Event.prototype;\n\n  window.CustomEvent = CustomEvent;\n}\n\n/*\n\tAnimation curves\n*/\nMath.easeInOutQuad = function (t, b, c, d) {\n\tt /= d/2;\n\tif (t < 1) return c/2*t*t + b;\n\tt--;\n\treturn -c/2 * (t*(t-2) - 1) + b;\n};\n\nMath.easeInQuart = function (t, b, c, d) {\n\tt /= d;\n\treturn c*t*t*t*t + b;\n};\n\nMath.easeOutQuart = function (t, b, c, d) {\n  t /= d;\n\tt--;\n\treturn -c * (t*t*t*t - 1) + b;\n};\n\nMath.easeInOutQuart = function (t, b, c, d) {\n\tt /= d/2;\n\tif (t < 1) return c/2*t*t*t*t + b;\n\tt -= 2;\n\treturn -c/2 * (t*t*t*t - 2) + b;\n};\n\nMath.easeOutElastic = function (t, b, c, d) {\n  var s=1.70158;var p=d*0.7;var a=c;\n  if (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\n  if (a < Math.abs(c)) { a=c; var s=p/4; }\n  else var s = p/(2*Math.PI) * Math.asin (c/a);\n  return a*Math.pow(2,-10*t) * Math.sin( (t*d-s)*(2*Math.PI)/p ) + c + b;\n};\n\n\n/* JS Utility Classes */\n\n// make focus ring visible only for keyboard navigation (i.e., tab key)\n(function() {\n  var focusTab = document.getElementsByClassName('js-tab-focus'),\n    shouldInit = false,\n    outlineStyle = false,\n    eventDetected = false;\n\n  function detectClick() {\n    if(focusTab.length > 0) {\n      resetFocusStyle(false);\n      window.addEventListener('keydown', detectTab);\n    }\n    window.removeEventListener('mousedown', detectClick);\n    outlineStyle = false;\n    eventDetected = true;\n  };\n\n  function detectTab(event) {\n    if(event.keyCode !== 9) return;\n    resetFocusStyle(true);\n    window.removeEventListener('keydown', detectTab);\n    window.addEventListener('mousedown', detectClick);\n    outlineStyle = true;\n  };\n\n  function resetFocusStyle(bool) {\n    var outlineStyle = bool ? '' : 'none';\n    for(var i = 0; i < focusTab.length; i++) {\n      focusTab[i].style.setProperty('outline', outlineStyle);\n    }\n  };\n\n  function initFocusTabs() {\n    if(shouldInit) {\n      if(eventDetected) resetFocusStyle(outlineStyle);\n      return;\n    }\n    shouldInit = focusTab.length > 0;\n    window.addEventListener('mousedown', detectClick);\n  };\n\n  initFocusTabs();\n  window.addEventListener('initFocusTabs', initFocusTabs);\n}());\n\nfunction resetFocusTabsStyle() {\n  window.dispatchEvent(new CustomEvent('initFocusTabs'));\n};\n\n//credits http://css-tricks.com/snippets/jquery/move-cursor-to-end-of-textarea-or-input/\nfunction putCursorAtEnd(el) {\n  if (el.setSelectionRange) {\n    var len = el.value.length * 2;\n    el.focus();\n    el.setSelectionRange(len, len);\n  } else {\n    el.value = el.value;\n  }\n};\n// File#: _1_password\r\n// Usage: codyhouse.co/license\r\n(function () {\r\n  var Password = function (element) {\r\n    this.element = element;\r\n    this.password = this.element.getElementsByClassName('js-password__input')[0];\r\n    this.visibilityBtn = this.element.getElementsByClassName('js-password__btn')[0];\r\n    this.visibilityClass = 'password--text-is-visible';\r\n    this.initPassword();\r\n  };\r\n\r\n  Password.prototype.initPassword = function () {\r\n    var self = this;\r\n    //listen to the click on the password btn\r\n    this.visibilityBtn.addEventListener('click', function (event) {\r\n      //if password is in focus -> do nothing if user presses Enter\r\n      if (document.activeElement === self.password) return;\r\n      event.preventDefault();\r\n      self.togglePasswordVisibility();\r\n    });\r\n  };\r\n\r\n  Password.prototype.togglePasswordVisibility = function () {\r\n    var makeVisible = !Util.hasClass(this.element, this.visibilityClass);\r\n    //change element class\r\n    Util.toggleClass(this.element, this.visibilityClass, makeVisible);\r\n    //change input type\r\n    (makeVisible) ? this.password.setAttribute('type', 'text'): this.password.setAttribute('type', 'password');\r\n  };\r\n\r\n  //initialize the Password objects\r\n  var passwords = document.getElementsByClassName('js-password');\r\n  if (passwords.length > 0) {\r\n    for (var i = 0; i < passwords.length; i++) {\r\n      (function (i) {\r\n        new Password(passwords[i]);\r\n      })(i);\r\n    }\r\n  };\r\n}());\n// File#: _1_search\r\n// Usage: codyhouse.co/license\r\n(function () {\r\n  var searchBar = document.getElementsByClassName('js-search');\r\n  if (searchBar.length > 0) {\r\n    for (var i = 0; i < searchBar.length; i++) {\r\n      (function (i) { // if user types in search input, keep the input expanded when focus is lost\r\n        searchBar[i].getElementsByClassName('js-search__input')[0].addEventListener('input', function (event) {\r\n          Util.toggleClass(event.target, 'search__input--has-content', event.target.value.length > 0);\r\n        });\r\n      })(i);\r\n    }\r\n  }\r\n}());\n(function () {\n  // Responsive Sidebar Navigation - by CodyHouse.co\n  var searchInput = document.getElementsByClassName('js-search')[0],\n    navList = document.getElementsByClassName('js-nav__list')[0],\n    sideList = document.getElementsByClassName('js-side__list')[0],\n    topNav = document.getElementsByClassName('js-top-nav')[0],\n    mainHeader = document.getElementsByClassName('js-main-header')[0];\n\n  //on resize, move search and top nav position according to window width\n  var resizing = false;\n  window.addEventListener('resize', function () {\n    if (resizing) return;\n    resizing = true;\n    (!window.requestAnimationFrame) ? setTimeout(moveNavigation, 300): window.requestAnimationFrame(moveNavigation);\n  });\n  window.dispatchEvent(new Event('resize')); //trigger the moveNavigation function\n\n  function moveNavigation() { // move searchInput and navList\n    var mq = checkMQ();\n    if (mq == 'mobile' && !Util.hasClass(navList.parentNode, 'js-side-nav')) {\n      detachElements();\n      // sideList.appendChild(navList);\n      sideList.insertBefore(navList, sideList.firstElementChild);\n      // sidebar.insertBefore(searchInput, sidebar.firstElementChild);\n    } else if (mq == 'desktop' && !Util.hasClass(navList.parentNode, 'js-main-header')) {\n      detachElements();\n      topNav.insertBefore(navList, topNav.firstElementChild.nextSibling);\n      // mainHeader.insertBefore(searchInput, mainHeader.firstElementChild.nextSibling);\n    }\n    resizing = false;\n  };\n\n  function detachElements() { // remove element from DOM\n    // searchInput.parentNode.removeChild(searchInput);\n    navList.parentNode.removeChild(navList);\n  };\n\n  // function hideHoveredItems() { // exit sidebar -> hide dropdown\n  //   var hoveredItems = sidebar.getElementsByClassName('hover');\n  //   for (var i = 0; i < hoveredItems.length; i++) Util.removeClass(hoveredItems[i], 'hover');\n  // };\n\n  function checkMQ() { // check if mobile or desktop device\n    return window.getComputedStyle(mainHeader, '::before').getPropertyValue('content').replace(/'|\"/g, \"\");\n  };\n\n  // Utility function\n  function Util() {};\n\n  Util.hasClass = function (el, className) {\n    if (el.classList) return el.classList.contains(className);\n    else return !!el.getAttribute('class').match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'));\n  };\n})();\njQuery(document).ready(function ($) {\n\t$menuTrigger = $('.nav-trigger')\n\t$content_wrapper = $('.main-content')\n\t$navigation = $('.side-nav');\n\n\t//open-close lateral menu clicking on the menu icon\n\t$menuTrigger.on('click', function (event) {\n\t\tevent.preventDefault();\n\n\t\t$menuTrigger.toggleClass('is-clicked');\n\t\t$navigation.toggleClass('is-visible');\n\t\t// $content_wrapper.toggleClass('is-visible').one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function () {\n\t\t// firefox transitions break when parent overflow is changed, so we need to wait for the end of the trasition to give the body an overflow hidden\n\t\t// $('.side-nav').toggleClass('is-visible');\n\n\t\t//check if transitions are not supported - i.e. in IE9\n\t\tif ($('html').hasClass('no-csstransitions')) {\n\t\t}\n\t});\n\n\t//close lateral menu clicking outside the menu itself\n\t$('.main').on('click', function (event) {\n\t\tconsole.log(event.target.parentNode);\n\t\tif (event.target != $navigation && event.target.parentNode != $navigation) {\n\t\t\t$menuTrigger.removeClass('is-clicked');\n\t\t\t$navigation.removeClass('is-visible');\n\t\t\t// $navigation.removeClass('is-visible');\n\t\t\t// $content_wrapper.removeClass('is-visible').one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function () {\n\n\t\t\t//check if transitions are not supported\n\n\t\t\t\n\t\t}\n\t});\n\n\t//open (or close) submenu items in the lateral menu. Close all the other open submenu items.\n\t$('.item--has-children').children('a').on('click', function (event) {\n\t\tevent.preventDefault();\n\t\t$(this).toggleClass('submenu-open').next('.sub-menu').slideToggle(200).end().parent('.item--has-children').siblings('.item--has-children').children('a').removeClass('submenu-open').next('.sub-menu').slideUp(200);\n\t});\n});\n(function () {\n  function ModalSignin(element) {\n    this.element = element;\n    this.blocks = document.getElementsByClassName('js-modal-block');\n    // this.switchers = this.element.getElementsByClassName('js-signin-modal-switcher')[0].getElementsByTagName('a');\n    this.triggers = document.getElementsByClassName('js-modal-trigger');\n    this.init();\n  };\n\n  ModalSignin.prototype.init = function () {\n    var self = this;\n\n    // open modal\n    for (var i = 0; i < this.triggers.length; i++) {\n      (function (i) {\n        self.triggers[i].addEventListener('click', function (event) {\n          if (event.target.hasAttribute('data-signin')) {\n            event.preventDefault();\n            self.showSigninForm(event.target.getAttribute('data-signin'));\n          }\n        });\n      })(i);\n    }\n\n    // close modal\n    this.element.addEventListener('click', function (event) {\n      if (hasClass(event.target, 'js-modal') || hasClass(event.target, 'js-close')) {\n        event.preventDefault();\n        removeClass(self.element, 'is-visible');\n      }\n    });\n\n    // close modal when clicking the esc keyboard button\n    document.addEventListener('keydown', function (event) {\n      event.which == '27' && removeClass(self.element, 'is-visible');\n    });\n  };\n\n  ModalSignin.prototype.showSigninForm = function (type) {\n    // show modal if not visible\n    !hasClass(this.element, 'is-visible') && addClass(this.element, 'is-visible');\n    // show selected form\n    for (var i = 0; i < this.blocks.length; i++) {\n      this.blocks[i].getAttribute('data-type') == type ? addClass(this.blocks[i], 'is-selected') :\n        removeClass(this.blocks[i], 'is-selected');\n    }\n  };\n\n  \tModalSignin.prototype.toggleError = function( input, bool) {\n  \t  // used to show error messages in the form\n  \t  toggleClass(input, 'modal__input--has-error', bool);\n  \t  toggleClass(input.nextElementSibling, 'modal__error--is-visible', bool);\n  \t}\n\n  var signinModal = document.getElementsByClassName('js-modal')[0];\n  if( signinModal ) {\n    new ModalSignin(signinModal);\n  }\n\n  //class manipulations - needed if classList is not supported\n  function hasClass(el, className) {\n    if (el.classList) return el.classList.contains(className);\n    else return !!el.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'));\n  }\n\n  function addClass(el, className) {\n    var classList = className.split(' ');\n    if (el.classList) el.classList.add(classList[0]);\n    else if (!hasClass(el, classList[0])) el.className += \" \" + classList[0];\n    if (classList.length > 1) addClass(el, classList.slice(1).join(' '));\n  }\n\n  function removeClass(el, className) {\n    var classList = className.split(' ');\n    if (el.classList) el.classList.remove(classList[0]);\n    else if (hasClass(el, classList[0])) {\n      var reg = new RegExp('(\\\\s|^)' + classList[0] + '(\\\\s|$)');\n      el.className = el.className.replace(reg, ' ');\n    }\n    if (classList.length > 1) removeClass(el, classList.slice(1).join(' '));\n  }\n\n  function toggleClass(el, className, bool) {\n    if (bool) addClass(el, className);\n    else removeClass(el, className);\n  }\n\n  //credits http://css-tricks.com/snippets/jquery/move-cursor-to-end-of-textarea-or-input/\n  function putCursorAtEnd(el) {\n    if (el.setSelectionRange) {\n      var len = el.value.length * 2;\n      el.focus();\n      el.setSelectionRange(len, len);\n    } else {\n      el.value = el.value;\n    }\n  };\n})();\n\n//# sourceMappingURL=scripts.js.map\n"],"names":["Util","hasClass","el","className","classList","contains","getAttribute","match","RegExp","addClass","split","add","setAttribute","length","slice","join","removeClass","remove","reg","replace","toggleClass","bool","setAttributes","attrs","key","getChildrenByClassName","children","childrenByClass","i","push","is","elem","selector","nodeType","qa","document","querySelectorAll","setHeight","start","to","element","duration","cb","timeFunction","change","currentTime","animateHeight","timestamp","progress","val","parseInt","Math","style","height","window","requestAnimationFrame","scrollTo","final","scrollEl","scrollTop","documentElement","scrollY","animateScroll","easeInOutQuad","moveFocus","getElementsByTagName","focus","activeElement","getIndexInArray","array","Array","prototype","indexOf","call","cssSupports","property","value","CSS","supports","g","toUpperCase","body","extend","extended","deep","arguments","Object","toString","obj","prop","hasOwnProperty","merge","osHasReducedMotion","matchMedia","matchMediaObj","matches","Element","msMatchesSelector","webkitMatchesSelector","closest","s","this","parentElement","parentNode","CustomEvent","event","params","bubbles","cancelable","detail","undefined","evt","createEvent","initCustomEvent","Event","resetFocusTabsStyle","dispatchEvent","putCursorAtEnd","len","setSelectionRange","t","b","c","d","easeInQuart","easeOutQuart","easeInOutQuart","easeOutElastic","p","a","abs","PI","asin","pow","sin","focusTab","getElementsByClassName","shouldInit","outlineStyle","eventDetected","detectClick","resetFocusStyle","addEventListener","detectTab","removeEventListener","keyCode","setProperty","initFocusTabs","Password","password","visibilityBtn","visibilityClass","initPassword","self","preventDefault","togglePasswordVisibility","makeVisible","passwords","searchBar","target","navList","sideList","topNav","mainHeader","resizing","moveNavigation","mq","getComputedStyle","getPropertyValue","detachElements","insertBefore","firstElementChild","nextSibling","removeChild","setTimeout","jQuery","ready","$","$menuTrigger","$content_wrapper","$navigation","on","console","log","next","slideToggle","end","parent","siblings","slideUp","ModalSignin","blocks","triggers","init","hasAttribute","showSigninForm","which","type","toggleError","input","nextElementSibling","signinModal"],"mappings":"AACA,SAASA,QAKTA,KAAKC,SAAW,SAASC,EAAIC,GAC5B,OAAID,EAAGE,UAAkBF,EAAGE,UAAUC,SAASF,KACjCD,EAAGI,aAAa,SAASC,MAAM,IAAIC,OAAO,UAAYL,EAAY,aAGjFH,KAAKS,SAAW,SAASP,EAAIC,GACxBC,EAAYD,EAAUO,MAAM,KAC3BR,EAAGE,UAAWF,EAAGE,UAAUO,IAAIP,EAAU,IACnCJ,KAAKC,SAASC,EAAIE,EAAU,KAAKF,EAAGU,aAAa,QAASV,EAAGI,aAAa,SAAY,IAAMF,EAAU,IACzF,EAAnBA,EAAUS,QAAYb,KAAKS,SAASP,EAAIE,EAAUU,MAAM,GAAGC,KAAK,OAGtEf,KAAKgB,YAAc,SAASd,EAAIC,GAC/B,IAAIC,EAAYD,EAAUO,MAAM,KAC5BR,EAAGE,UAAWF,EAAGE,UAAUa,OAAOb,EAAU,IACxCJ,KAAKC,SAASC,EAAIE,EAAU,MAC/Bc,EAAM,IAAIV,OAAO,UAAYJ,EAAU,GAAK,WAC9CF,EAAGU,aAAa,QAASV,EAAGI,aAAa,SAASa,QAAQD,EAAK,OAE3C,EAAnBd,EAAUS,QAAYb,KAAKgB,YAAYd,EAAIE,EAAUU,MAAM,GAAGC,KAAK,OAGxEf,KAAKoB,YAAc,SAASlB,EAAIC,EAAWkB,GACvCA,EAAMrB,KAAKS,SAASP,EAAIC,GACtBH,KAAKgB,YAAYd,EAAIC,IAG3BH,KAAKsB,cAAgB,SAASpB,EAAIqB,GAChC,IAAI,IAAIC,KAAOD,EACbrB,EAAGU,aAAaY,EAAKD,EAAMC,KAO/BxB,KAAKyB,uBAAyB,SAASvB,EAAIC,GAC1BD,EAAGwB,SAElB,IAFA,IACEC,EAAkB,GACXC,EAAI,EAAGA,EAAI1B,EAAGwB,SAASb,OAAQe,IAClC5B,KAAKC,SAASC,EAAGwB,SAASE,GAAIzB,IAAYwB,EAAgBE,KAAK3B,EAAGwB,SAASE,IAEjF,OAAOD,GAGT3B,KAAK8B,GAAK,SAASC,EAAMC,GACvB,GAAGA,EAASC,SACV,OAAOF,IAASC,EAOlB,IAJA,IAAIE,EAA2B,iBAAf,EAA0BC,SAASC,iBAAiBJ,GAAYA,EAC9EnB,EAASqB,EAAGrB,OAGRA,KACJ,GAAGqB,EAAGrB,KAAYkB,EAChB,OAAO,EAIX,OAAO,GAMT/B,KAAKqC,UAAY,SAASC,EAAOC,EAAIC,EAASC,EAAUC,EAAIC,GAC3D,IAAIC,EAASL,EAAKD,EACdO,EAAc,KAEbC,EAAgB,SAASC,GAE3B,IAAIC,EAAWD,GADGF,EAAbA,GAA2BE,GAElBN,EAAXO,IAAqBA,EAAWP,GAC/BQ,EAAMC,SAAUF,EAASP,EAAUG,EAASN,GAC7CK,IACDM,EAAME,KAAKR,GAAcK,EAAUV,EAAOC,EAAKD,EAAOG,IAExDD,EAAQY,MAAMC,OAASJ,EAAI,KACxBD,EAAWP,EACVa,OAAOC,sBAAsBT,GAE7BJ,GAAIA,KAKVF,EAAQY,MAAMC,OAASf,EAAM,KAC7BgB,OAAOC,sBAAsBT,IAO/B9C,KAAKwD,SAAW,SAASC,EAAOhB,EAAUC,EAAIgB,GAC5C,IAAIlB,EAAUkB,GAAYJ,OACtBhB,EAAQE,EAAQmB,WAAaxB,SAASyB,gBAAgBD,UACxDd,EAAc,KAEZa,IAAUpB,EAAQgB,OAAOO,SAAW1B,SAASyB,gBAAgBD,WAEjE,IAAIG,EAAgB,SAASf,GAE3B,IAAIC,EAAWD,GADEF,EAAbA,GAA2BE,GAEjBN,EAAXO,IAAqBA,EAAWP,GAC/BQ,EAAME,KAAKY,cAAcf,EAAUV,EAAOmB,EAAMnB,EAAOG,GAC3DD,EAAQgB,SAAS,EAAGP,GACjBD,EAAWP,EACZa,OAAOC,sBAAsBO,GAE7BpB,GAAMA,KAIVY,OAAOC,sBAAsBO,IAQ/B9D,KAAKgE,UAAY,SAAUxB,IACVA,EAAVA,GAAoBL,SAAS8B,qBAAqB,QAAQ,IACvDC,QACJ/B,SAASgC,gBAAkB3B,IAC7BA,EAAQ5B,aAAa,WAAW,MAChC4B,EAAQ0B,UAQZlE,KAAKoE,gBAAkB,SAASC,EAAOnE,GACrC,OAAOoE,MAAMC,UAAUC,QAAQC,KAAKJ,EAAOnE,IAG7CF,KAAK0E,YAAc,SAASC,EAAUC,GACpC,MAAG,QAAStB,OACHuB,IAAIC,SAASH,EAAUC,GAEbD,EAASxD,QAAQ,YAAa,SAAU4D,GAAK,OAAOA,EAAE,GAAGC,kBACrD7C,SAAS8C,KAAK7B,OAMvCpD,KAAKkF,OAAS,WAEZ,IAAIC,EAAW,GACXC,GAAO,EACPxD,EAAI,EACJf,EAASwE,UAAUxE,OAGiC,qBAAnDyE,OAAOf,UAAUgB,SAASd,KAAMY,UAAU,MAC7CD,EAAOC,UAAU,GACjBzD,KAkBF,KAAQA,EAAIf,EAAQe,KAdR,SAAU4D,GACpB,IAAM,IAAIC,KAAQD,EACXF,OAAOf,UAAUmB,eAAejB,KAAMe,EAAKC,KAEzCL,GAAsD,oBAA9CE,OAAOf,UAAUgB,SAASd,KAAKe,EAAIC,IAC9CN,EAASM,GAAQP,QAAQ,EAAMC,EAASM,GAAOD,EAAIC,IAEnDN,EAASM,GAAQD,EAAIC,IAS3BE,CADUN,UAAUzD,IAItB,OAAOuD,GAITnF,KAAK4F,mBAAqB,WACxB,IAAItC,OAAOuC,WAAY,OAAO,EAC9B,IAAIC,EAAgBxC,OAAOuC,WAAW,oCACtC,QAAGC,GAAsBA,EAAcC,SAQpCC,QAAQzB,UAAUwB,UACtBC,QAAQzB,UAAUwB,QAAUC,QAAQzB,UAAU0B,mBAAqBD,QAAQzB,UAAU2B,uBAGjFF,QAAQzB,UAAU4B,UACtBH,QAAQzB,UAAU4B,QAAU,SAASC,GACpC,IAAIlG,EAAKmG,KACT,IAAKlE,SAASyB,gBAAgBvD,SAASH,GAAK,OAAO,KACnD,GACC,GAAIA,EAAG6F,QAAQK,GAAI,OAAOlG,QAEX,QADfA,EAAKA,EAAGoG,eAAiBpG,EAAGqG,aACW,IAAhBrG,EAAG+B,UAC3B,OAAO,OAKT,CAEE,SAASuE,YAAcC,EAAOC,GAC5BA,EAASA,GAAU,CAAEC,SAAS,EAAOC,YAAY,EAAOC,YAAQC,GAChE,IAAIC,EAAM5E,SAAS6E,YAAa,eAEhC,OADAD,EAAIE,gBAAiBR,EAAOC,EAAOC,QAASD,EAAOE,WAAYF,EAAOG,QAC/DE,EANwB,mBAAvBzD,OAAOkD,cASjBA,YAAYjC,UAAYjB,OAAO4D,MAAM3C,UAErCjB,OAAOkD,YAAcA,aAuFvB,SAASW,sBACP7D,OAAO8D,cAAc,IAAIZ,YAAY,kBAIvC,SAASa,eAAenH,GACtB,IACMoH,EADFpH,EAAGqH,mBACDD,EAAwB,EAAlBpH,EAAG0E,MAAM/D,OACnBX,EAAGgE,QACHhE,EAAGqH,kBAAkBD,EAAKA,IAE1BpH,EAAG0E,MAAQ1E,EAAG0E,MA5FlBzB,KAAKY,cAAgB,SAAUyD,EAAGC,EAAGC,EAAGC,GAEvC,OADAH,GAAKG,EAAE,GACC,EAAUD,EAAE,EAAEF,EAAEA,EAAIC,GAEpBC,EAAE,KADVF,GACkBA,EAAE,GAAK,GAAKC,GAG/BtE,KAAKyE,YAAc,SAAUJ,EAAGC,EAAGC,EAAGC,GAErC,OAAOD,GADPF,GAAKG,GACMH,EAAEA,EAAEA,EAAIC,GAGpBtE,KAAK0E,aAAe,SAAUL,EAAGC,EAAGC,EAAGC,GAGtC,OAFCH,GAAKG,GAEED,KADRF,EACeA,EAAEA,EAAEA,EAAI,GAAKC,GAG7BtE,KAAK2E,eAAiB,SAAUN,EAAGC,EAAGC,EAAGC,GAExC,OADAH,GAAKG,EAAE,GACC,EAAUD,EAAE,EAAEF,EAAEA,EAAEA,EAAEA,EAAIC,GAExBC,EAAE,IADVF,GAAK,GACYA,EAAEA,EAAEA,EAAI,GAAKC,GAG/BtE,KAAK4E,eAAiB,SAAUP,EAAGC,EAAGC,EAAGC,GACvC,IAAIvB,EAAE,QAAY4B,EAAI,GAAFL,EAAUM,EAAEP,EAChC,OAAO,GAAHF,EAAaC,EAAgB,IAAPD,GAAGG,GAAcF,EAAEC,GAAYM,EAAHA,GAAO,GAAFL,EAC3BvB,EAA5B6B,EAAI9E,KAAK+E,IAAIR,IAAMO,EAAEP,EAASM,EAAE,GACvBA,GAAG,EAAE7E,KAAKgF,IAAMhF,KAAKiF,KAAMV,EAAEO,GACnCA,EAAE9E,KAAKkF,IAAI,GAAG,GAAGb,GAAKrE,KAAKmF,KAAMd,EAAEG,EAAEvB,IAAI,EAAEjD,KAAKgF,IAAIH,GAAMN,EAAID,IAOtE,WACC,IAAIc,EAAWpG,SAASqG,uBAAuB,gBAC7CC,GAAa,EACbC,GAAe,EACfC,GAAgB,EAElB,SAASC,IACc,EAAlBL,EAAS1H,SACVgI,GAAgB,GAChBvF,OAAOwF,iBAAiB,UAAWC,IAErCzF,OAAO0F,oBAAoB,YAAaJ,GAExCD,IADAD,GAAe,GAIjB,SAASK,EAAUtC,GACI,IAAlBA,EAAMwC,UACTJ,GAAgB,GAChBvF,OAAO0F,oBAAoB,UAAWD,GACtCzF,OAAOwF,iBAAiB,YAAaF,GACrCF,GAAe,GAGjB,SAASG,EAAgBxH,GAEvB,IADA,IAAIqH,EAAerH,EAAO,GAAK,OACvBO,EAAI,EAAGA,EAAI2G,EAAS1H,OAAQe,IAClC2G,EAAS3G,GAAGwB,MAAM8F,YAAY,UAAWR,GAI7C,SAASS,IACJV,EACEE,GAAeE,EAAgBH,IAGpCD,EAA+B,EAAlBF,EAAS1H,OACtByC,OAAOwF,iBAAiB,YAAaF,IAGvCO,IACA7F,OAAOwF,iBAAiB,gBAAiBK,GAzC3C,GA4DC,WACgB,SAAXC,EAAqB5G,GACvB6D,KAAK7D,QAAUA,EACf6D,KAAKgD,SAAWhD,KAAK7D,QAAQgG,uBAAuB,sBAAsB,GAC1EnC,KAAKiD,cAAgBjD,KAAK7D,QAAQgG,uBAAuB,oBAAoB,GAC7EnC,KAAKkD,gBAAkB,4BACvBlD,KAAKmD,eAGPJ,EAAS7E,UAAUiF,aAAe,WAChC,IAAIC,EAAOpD,KAEXA,KAAKiD,cAAcR,iBAAiB,QAAS,SAAUrC,GAEjDtE,SAASgC,gBAAkBsF,EAAKJ,WACpC5C,EAAMiD,iBACND,EAAKE,+BAITP,EAAS7E,UAAUoF,yBAA2B,WAC5C,IAAIC,GAAe5J,KAAKC,SAASoG,KAAK7D,QAAS6D,KAAKkD,iBAEpDvJ,KAAKoB,YAAYiF,KAAK7D,QAAS6D,KAAKkD,gBAAiBK,GAErD,EAAgBvD,KAAKgD,SAASzI,aAAa,OAAQ,QAASyF,KAAKgD,SAASzI,aAAa,OAAQ,aAIjG,IAAIiJ,EAAY1H,SAASqG,uBAAuB,eAChD,GAAuB,EAAnBqB,EAAUhJ,OACZ,IAAK,IAAIe,EAAI,EAAGA,EAAIiI,EAAUhJ,OAAQe,IAElC,IAAIwH,EAASS,EACZjI,IAlCT,GAwCC,WACC,IAAIkI,EAAY3H,SAASqG,uBAAuB,aAChD,GAAuB,EAAnBsB,EAAUjJ,OACZ,IAAK,IAAIe,EAAI,EAAGA,EAAIkI,EAAUjJ,OAAQe,IAElCkI,EAGClI,GAHY4G,uBAAuB,oBAAoB,GAAGM,iBAAiB,QAAS,SAAUrC,GAC7FzG,KAAKoB,YAAYqF,EAAMsD,OAAQ,6BAA0D,EAA5BtD,EAAMsD,OAAOnF,MAAM/D,UAN1F,GAYA,WAEoBsB,SAASqG,uBAAuB,aAAa,GAA/D,IACEwB,EAAU7H,SAASqG,uBAAuB,gBAAgB,GAC1DyB,EAAW9H,SAASqG,uBAAuB,iBAAiB,GAC5D0B,EAAS/H,SAASqG,uBAAuB,cAAc,GACvD2B,EAAahI,SAASqG,uBAAuB,kBAAkB,GAG7D4B,GAAW,EAQf,SAASC,IACP,IAAIC,EAyBGhH,OAAOiH,iBAAiBJ,EAAY,YAAYK,iBAAiB,WAAWrJ,QAAQ,OAAQ,IAxBzF,UAANmJ,GAAmBtK,EAAKC,SAAS+J,EAAQzD,WAAY,eAKxC,WAAN+D,GAAoBtK,EAAKC,SAAS+J,EAAQzD,WAAY,oBAC/DkE,IACAP,EAAOQ,aAAaV,EAASE,EAAOS,kBAAkBC,eANtDH,IAEAR,EAASS,aAAaV,EAASC,EAASU,oBAO1CP,GAAW,EAGb,SAASK,IAEPT,EAAQzD,WAAWsE,YAAYb,GAajC,SAAShK,KArCTsD,OAAOwF,iBAAiB,SAAU,WAC5BsB,IACJA,GAAW,EACT9G,OAAOC,sBAA0DD,OAAOC,sBAAsB8G,GAA9DS,WAAWT,EAAgB,QAE/D/G,OAAO8D,cAAc,IAAIF,MAAM,WAkC/BlH,EAAKC,SAAW,SAAUC,EAAIC,GAC5B,OAAID,EAAGE,UAAkBF,EAAGE,UAAUC,SAASF,KACjCD,EAAGI,aAAa,SAASC,MAAM,IAAIC,OAAO,UAAYL,EAAY,aAnDpF,GAsDA4K,OAAO5I,UAAU6I,MAAM,SAAUC,GAChCC,aAAeD,EAAE,gBACjBE,iBAAmBF,EAAE,iBACrBG,YAAcH,EAAE,aAGhBC,aAAaG,GAAG,QAAS,SAAU5E,GAClCA,EAAMiD,iBAENwB,aAAa9J,YAAY,cACzBgK,YAAYhK,YAAY,cAMpB6J,EAAE,QAAQhL,SAAS,uBAKxBgL,EAAE,SAASI,GAAG,QAAS,SAAU5E,GAChC6E,QAAQC,IAAI9E,EAAMsD,OAAOxD,YACrBE,EAAMsD,QAAUqB,aAAe3E,EAAMsD,OAAOxD,YAAc6E,cAC7DF,aAAalK,YAAY,cACzBoK,YAAYpK,YAAY,iBAW1BiK,EAAE,uBAAuBvJ,SAAS,KAAK2J,GAAG,QAAS,SAAU5E,GAC5DA,EAAMiD,iBACNuB,EAAE5E,MAAMjF,YAAY,gBAAgBoK,KAAK,aAAaC,YAAY,KAAKC,MAAMC,OAAO,uBAAuBC,SAAS,uBAAuBlK,SAAS,KAAKV,YAAY,gBAAgBwK,KAAK,aAAaK,QAAQ,SAGjN,WACE,SAASC,EAAYtJ,GACnB6D,KAAK7D,QAAUA,EACf6D,KAAK0F,OAAS5J,SAASqG,uBAAuB,kBAE9CnC,KAAK2F,SAAW7J,SAASqG,uBAAuB,oBAChDnC,KAAK4F,OAGPH,EAAYvH,UAAU0H,KAAO,WAI3B,IAHA,IAIarK,EAJT6H,EAAOpD,KAGFzE,EAAI,EAAGA,EAAIyE,KAAK2F,SAASnL,OAAQe,IAC7BA,EAORA,EAND6H,EAAKuC,SAASpK,GAAGkH,iBAAiB,QAAS,SAAUrC,GAC/CA,EAAMsD,OAAOmC,aAAa,iBAC5BzF,EAAMiD,iBACND,EAAK0C,eAAe1F,EAAMsD,OAAOzJ,aAAa,mBAOtD+F,KAAK7D,QAAQsG,iBAAiB,QAAS,SAAUrC,IAC3CxG,EAASwG,EAAMsD,OAAQ,aAAe9J,EAASwG,EAAMsD,OAAQ,eAC/DtD,EAAMiD,iBACN1I,EAAYyI,EAAKjH,QAAS,iBAK9BL,SAAS2G,iBAAiB,UAAW,SAAUrC,GAC9B,MAAfA,EAAM2F,OAAiBpL,EAAYyI,EAAKjH,QAAS,iBAIrDsJ,EAAYvH,UAAU4H,eAAiB,SAAUE,GAE9CpM,EAASoG,KAAK7D,QAAS,eAAiB/B,EAAS4F,KAAK7D,QAAS,cAEhE,IAAK,IAAIZ,EAAI,EAAGA,EAAIyE,KAAK0F,OAAOlL,OAAQe,KACtCyE,KAAK0F,OAAOnK,GAAGtB,aAAa,cAAgB+L,EAAO5L,EACjDO,GAD0DqF,KAAK0F,OAAOnK,GAAI,gBAK/EkK,EAAYvH,UAAU+H,YAAc,SAAUC,EAAOlL,GAEnDD,EAAYmL,EAAO,0BAA2BlL,GAC9CD,EAAYmL,EAAMC,mBAAoB,2BAA4BnL,IAGrE,IAAIoL,EAActK,SAASqG,uBAAuB,YAAY,GAM9D,SAASvI,EAASC,EAAIC,GACpB,OAAID,EAAGE,UAAkBF,EAAGE,UAAUC,SAASF,GACjCD,EAAGC,UAAUI,MAAM,IAAIC,OAAO,UAAYL,EAAY,YAGtE,SAASM,EAASP,EAAIC,GAChBC,EAAYD,EAAUO,MAAM,KAC5BR,EAAGE,UAAWF,EAAGE,UAAUO,IAAIP,EAAU,IACnCH,EAASC,EAAIE,EAAU,MAAKF,EAAGC,WAAa,IAAMC,EAAU,IAC/C,EAAnBA,EAAUS,QAAYJ,EAASP,EAAIE,EAAUU,MAAM,GAAGC,KAAK,MAGjE,SAASC,EAAYd,EAAIC,GACvB,IAAIC,EAAYD,EAAUO,MAAM,KAC5BR,EAAGE,UAAWF,EAAGE,UAAUa,OAAOb,EAAU,IACvCH,EAASC,EAAIE,EAAU,MAC1Bc,EAAM,IAAIV,OAAO,UAAYJ,EAAU,GAAK,WAChDF,EAAGC,UAAYD,EAAGC,UAAUgB,QAAQD,EAAK,MAEpB,EAAnBd,EAAUS,QAAYG,EAAYd,EAAIE,EAAUU,MAAM,GAAGC,KAAK,MAGpE,SAASK,EAAYlB,EAAIC,EAAWkB,IAC9BA,EAAMZ,EACLO,GADcd,EAAIC,GA5BrBsM,GACF,IAAIX,EAAYW,GAxDpB"}